<section class="currency-section section">
  <div class="container">
    <div class="card currency-card fade-in">
      <div class="section-header">
        <h2>ðŸ’± Currency Exchange Rates</h2>
        <p>Real-time exchange rates from around the world</p>
      </div>

      <div class="converter">
        <div class="converter-input">
          <label for="amount">Amount:</label>
          <input
            type="number"
            id="amount"
            [(ngModel)]="amount"
            min="0"
            step="0.01"
            class="amount-input">
        </div>

        <div class="converter-select">
          <label for="currency">Base Currency:</label>
          <select
            id="currency"
            [(ngModel)]="selectedCurrency"
            (change)="onCurrencyChange()"
            class="currency-select">
            <option *ngFor="let curr of popularCurrencies" [value]="curr.code">
              {{ curr.flag }} {{ curr.code }} - {{ curr.name }}
            </option>
          </select>
        </div>
      </div>

      <div class="content">
        <div *ngIf="loading" class="spinner"></div>

        <div *ngIf="!loading && rates" class="rates-content">
          <p class="last-update">Last updated: {{ rates.time_last_update_utc }}</p>

          <div class="rates-grid">
            <div *ngFor="let curr of popularCurrencies" class="rate-item">
              <div class="rate-header">
                <span class="rate-flag">{{ curr.flag }}</span>
                <span class="rate-code">{{ curr.code }}</span>
              </div>
              <div class="rate-value">
                <span class="converted-amount">{{ convertAmount(rates.rates[curr.code]) | number:'1.2-2' }}</span>
                <span class="rate-label">{{ curr.name }}</span>
              </div>
            </div>
          </div>
        </div>

        <div *ngIf="error" class="error">
          <p>{{ error }}</p>
        </div>
      </div>

      <button
        class="btn btn-accent"
        (click)="getRates()"
        [disabled]="loading">
        {{ loading ? 'Loading...' : 'Refresh Rates' }}
      </button>
    </div>
  </div>
</section>
